<!DOCTYPE html>
<html>
    <head>
        <title>Page Pulse</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Page Pulse - Your go-to platform for discovering and managing books.">
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300&display=swap" rel="stylesheet">     
<style>
    .header-container {
        display: flex;
        align-items: center;
        gap: 20px;
        margin: 20px;
    }

.site-title {
    font-family: 'Inter', sans-serif;
    font-weight: 300; /* Light weight */
    font-size: 30px;   /* Font size */
    color: #FF6F61;       /* Adjust color as needed */
    margin-left: 10px; /* Space between logo and text */
    display: flex;
    align-items: center; /* Vertically center the text */
}

    .search-container {
        margin-bottom: 20px;
        margin-top: 15px;
    }
    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
}
    h2 {
        margin-left: 20px;
    }
    .search-bar {
    position: relative;
    display: flex;
    align-items: center;
}

.search-field {
    padding: 10px 10px 10px 40px; /* Add left padding to make room for the icon */
    font-size: 20px;
    border: 2px solid #FAF9F6;
    border-radius: 10px;
    width: 300px;
    background-color: #FAF9F6;
}

.search-icon {
    position: absolute;
    left: 15px; /* Position the icon inside the input field */
    color: #666;
    font-size: 20px;
    pointer-events: none; /* Prevent interaction with the icon */
}
    /* Header Right Navigation */
.header-right {
    display: flex;
    align-items: center;
    gap: 30px; /* Space between links */
    margin-left: auto;
}

.nav-link {
    text-decoration: none;
    color: #666;
    font-size: 25px;
    font-weight: 500;
}

.nav-link:hover {
    color: #FF6F61; /* Change color on hover */
}
.nav-link.active {
    color: #FF6F61; /* Change color when active */
}

.nav-link:hover, .nav-link.active:hover {
    color: #FF6F61; /* Keep color on hover if active */
}


/* Dropdown for "Write" */
.dropdown {
    position: relative;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #fff;
    box-shadow: 0px 8px 16px rgba(0,0,0,0.1);
    padding: 10px;
    border-radius: 5px;
    top: 30px;
    z-index: 1;
}

.dropdown:hover .dropdown-content {
    display: block;
}

.dropdown-content a {
    display: block;
    padding: 8px;
    text-decoration: none;
    color: #666;
}

.dropdown-content a:hover {
    background-color: #F5F5F5;
    color: #FF6F61;
}

/* User Icon */
.user-icon {
    font-size: 45px;
    color: #666;
    text-decoration: none;
}

.user-icon:hover {
    color: #FF6F61;
}


    .book-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 20px;
        margin-bottom: 40px;
    }

    .book-item {
        text-align: center;
    }

    .book-item img {
        max-width: 100%;
        border-radius: 8px;
    }

    .book-item h3 {
        margin: 10px 0 5px;
        font-size: 16px;
    }

    .book-item p {
        color: #F05A7E;
    }

    body {
        font-family: Arial, sans-serif;
        background-color: #FAF9F6;
    }

    .logo {
        max-width: 120px;
        height: 87.96px;
    }

    .categories {
    display: flex;
    justify-content: center; /* Center the categories horizontally */
    }

    .categories ul {
        display: flex;
        padding: 0;
        list-style: none;
        gap: 20px;
    }

    .categories li {
        text-align: center;
    }

    .categories li a {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-decoration: none;
        color: #333;
        gap: 8px;
    }

    .categories li a i {
        font-size: 24px;
    }

    .categories li a span {
        font-size: 14px;
    }

    .categories li a:hover {
        color: #FF6F61;
    }
    .categories li a img {
    width: 87.98px; /* Adjust as necessary */
    height: 88.57px; /* Maintain aspect ratio */
    margin-bottom: 5px; /* Space between icon and text */
    
}


    /* For You section - increase book size */
    .for-you .book-grid {
        display: flex;
        overflow-x: auto; /* Enables horizontal scrolling */
        gap: 15px; /* Slightly increase the gap between book items */
        padding-bottom: 10px;
        scroll-behavior: smooth; /* Optional for smooth scrolling */
    }

    .for-you .book-item {
        flex: 0 0 auto; /* Prevents flex items from shrinking, ensures they stay at their set width */
        min-width: 120px; /* Increase the width */
        text-align: center;
    }

    .for-you .book-item img {
        max-width: 100%; /* Ensure the image doesn't exceed the width of the container */
        border-radius: 6px; /* Slightly increase border radius */
        height: auto;
        max-height: 250px; /* Increase the height for larger book cover size */
    }

    /* Popular section (similar styling for increased book sizes) */
    .popular .book-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 15px; /* Increase the gap between book items */
        margin-bottom: 20px;
    }

    .popular .book-item {
        text-align: center;
    }

    .popular .book-item img {
        max-width: 100%; /* Ensure the image doesn't exceed the width of the container */
        border-radius: 10px; /* Slightly increase border radius */
        height: auto;
        max-height: 200px; /* Increase the height for larger book cover size */
    }

    /* Custom scrollbar */
    .for-you .book-grid::-webkit-scrollbar {
        height: 8px;
    }

    .for-you .book-grid::-webkit-scrollbar-thumb {
        background-color: #ccc;
        border-radius: 10px;
    }

    .for-you .book-grid::-webkit-scrollbar-track {
        background-color: #f4f4f4;
    }
    /* Modal styles */
    .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #fff;
            padding: 10px;
            border-radius: 10px;
            width: 821px;
            height: 540px;
            text-align: center;
        }

    .modal-left {
    flex: 1;
    padding-right: 20px;
    }

    .modal-left img {
    width: 500px;
    height: auto;
    border-radius: 10px;
    }

    .modal-right {
    flex: 2;
    display: flex;
    flex-direction: column;
    justify-content: center;
    }

    .modal-right h2 {
    margin-top: 0;
    }

    .modal-right p {
    margin: 10px 0;
    }

        .close-btn {
            background-color: #FF6F61;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .start-reading-btn {
            background-color: #F05A7E;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .start-reading-btn:hover {
            background-color: #EBE76C;
        }

        .modal-content .book-info {
            margin-top: 20px;
        }
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>
    {% block content %}
    {% load static %}
    <div class="header-container">
        <img src="{% static 'images/Logo.svg' %}" alt="PagePulse Logo" class="logo">
        <span class="site-title">Page Pulse</span> <!-- Apply styling class here -->
        <div class="search-container">
            <div class="search-bar">
                <i class="fas fa-search search-icon"></i>
                <input type="search" class="search-field" placeholder="Search">
            </div>
        </div>
    
        
        <!-- Right-side menu -->
        <nav class="header-right">
            <a href="{% url 'homepage' %}" class="nav-link {% if request.path == '/' %}active{% endif %}">Home</a>
            <a href="{% url 'private_library' %}" class="nav-link {% if request.path == '/private_library/' %}active{% endif %}">My Library</a>
            <div class="dropdown">
                <a href="#" class="nav-link {% if request.path == '/write/' %}active{% endif %}">
                    Write <i class="fas fa-caret-down"></i>
                </a>
                <div class="dropdown-content">
                    <a href="#">New Story</a>
                    <a href="#">Drafts</a>
                </div>
            </div>
            
            <a href="#" class="user-icon">
                <i class="fas fa-user-circle"></i>
            </a>
        </nav>
    </div>
    

    <div class="categories">
        <ul>
            <li>
                <a href="#">
                    <img src="{% static 'images/all.png' %}" alt="All">
                    <span>All</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="{% static 'images/fiction.png' %}" alt="Fiction">
                    <span>Fiction</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="{% static 'images/mystery.png' %}" alt="Mystery">
                    <span>Mystery</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="{% static 'images/romance.png' %}" alt="Romance">
                    <span>Romance</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="{% static 'images/fantasy.png' %}" alt="Fantasy">
                    <span>Fantasy</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="{% static 'images/fiction.png' %}" alt="New Adult">
                    <span>New Adult</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="{% static 'images/mystery.png' %}" alt="Short Story">
                    <span>Short Story</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="{% static 'images/romance.png' %}" alt="Thriller">
                    <span>Thriller</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="{% static 'images/fantasy.png' %}" alt="Adventure">
                    <span>Adventure</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <img src="{% static 'images/romance.png' %}" alt="LGBTQ+">
                    <span>LGBTQ+</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Modal structure -->
    <div id="bookModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">Close</span>
            <div class="modal-left">
                <img id="modal-book-img" src="" alt="Book Cover">
            </div>
            <div class="modal-right">
                <h3 id="modal-book-title">Book Title</h3>
                <p id="modal-book-author">Author: </p>
                <p id="modal-book-genre">Genre: </p>
                <p id="modal-book-description">Description: </p>
                <button class="start-reading-btn">Start Reading</button>
            </div>
        </div>
    </div>
    
    <!-- For You section -->
    <section class="for-you">
        <h2>For You</h2>
        <div class="book-grid">
            {% for book in books %}
            <div class="book-item" onclick="openModal('{{ book.cover_image.url }}', '{{ book.title }}', '{{ book.author }}', '{{ book.genre.name }}', 'A brief description of the book.')">
                {% if book.cover_image %}
                <img src="{{ book.cover_image.url }}" alt="{{ book.title }}">
                {% else %}
                <img src="{% static 'images/default_cover.jpg' %}" alt="No cover available">
                {% endif %}
                <h3>{{ book.title }}</h3>
                <p>{{ book.author }}</p>
                <p>{{ book.genre.name }}</p> <!-- Display the genre here -->
            </div>
            {% endfor %}
        </div>
    </section>

    <!-- JavaScript to handle modal functionality -->
    <script>
        // Function to open the modal and populate it with book data
        function openModal(imgSrc, title, author, genre, description) {
            document.getElementById('modal-book-img').src = imgSrc;
            document.getElementById('modal-book-title').innerText = title;
            document.getElementById('modal-book-author').innerText = 'Author: ' + author;
            document.getElementById('modal-book-genre').innerText = 'Genre: ' + genre;
            document.getElementById('modal-book-description').innerText = 'Description: ' + description;
            
            document.getElementById('bookModal').style.display = 'flex';
        }

        // Function to close the modal
        function closeModal() {
            document.getElementById('bookModal').style.display = 'none';
        }
    </script>



    <!-- Popular section -->
    <section class="popular">
        <h2>Popular</h2>
        <div class="book-grid">
            {% for book in popular_books %}
            <div class="book-item">
                <img src="{{ book.cover_image_url }}" alt="{{ book.title }}">
                <h3>{{ book.title }}</h3>
                <p>{{ book.author }}</p>
            </div>
            {% endfor %}
        </div>
    </section>

    {% endblock %}
</body>
</html>